<!doctype html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      th:fragment="Layout(content)">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Smart Contact Manager</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">

  <!-- Custom CSS -->
  <link rel="stylesheet" th:href="@{/css/style.css}"/>

  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.7.1/dist/dotlottie-wc.js" type="module"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <script th:src="@{/js/script.js}"></script>
</head>


<body>

<!-- ================= NAVBAR ================= -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">

  <div class="container-fluid">
    <a class="navbar-brand" th:href="@{/}">Smart Contact Manager</a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ms-auto">

        <li class="nav-item">
          <a class="nav-link" th:href="@{/}">Home</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" th:href="@{/about}">About</a>
        </li>

        <li class="nav-item">
          <a class="nav-link"  th:text="${user.name}"></a>
        </li>

        <li class="nav-item">
          <a class="nav-link" th:href="@{/logout}">Logout</a>
        </li>

      </ul>
    </div>
  </div>
</nav>

<div class="sidebar">

<span onclick="toogleSidebar()" class="cross-btn">&times;</span>
<a href="#" th:href="@{/user/index}"class="item" ><i class="fa-solid fa-house"></i>  Home</a>
<a href="#" th:href="@{/user/viewcontact/0}" class="item"><i class="fa-solid fa-address-book"></i>
  View Contact</a>
<a href="#" th:href="@{/user/addcontact}" class="item"> <i class="fa-regular fa-address-card"></i> Add Contact</a>
<a href="#" th:href="@{/user/profile}" class="item">  <i class="fa-solid fa-user"></i>  Your Profile</a>
<a href="#" th:href="@{/logout}" class="item"> <i class="fa-solid fa-s"></i> Logout</a>
<div class="divider" ></div>
</div>




<!-- ================= PAGE CONTENT ================= -->

<div class="content">  
  <i onclick="toogleSidebar()" class="fas fa-bars m-3"> </i> 
  <!--<div class="container" th:if="${session.message}">
  
  <div th:classappend="${'alert-'+session.message.type}" class=" alert text-center" role="alert">
 <span th:text="${session.message.content}"></span>
 
 
</div>
</div>--><div th:if="${message}">
    <div th:class="'alert alert-'+${message.type} + ' text-center'"
         role="alert">
        <span th:text="${message.content}"></span>
    </div>
</div>

<div th:replace="${content}">  </div></div>

<!-- ================= JS ================= -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script th:src="@{/js/script.js}"></script>
<script>

function deleteContact(cid){
	
	swal({
		  title: "Are you sure?",
		  text: "Once deleted, you will not be able to recover this contact",
		  icon: "warning",
		  buttons: true,
		  dangerMode: true,
		})
		.then((willDelete) => {
		  if (willDelete) {
	    window.location="/user/delete/"+cid;

		    
		  } else {
		    swal("Your contact is safe!");
		  }
		});
	
}

</script>
</body>
</html>
