<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      th:replace="~{base::Layout(~{::section})}">

<section class="signup-section">

  <div class="login-card p-4 mx-auto">

    <!-- ================= MESSAGE ================= -->
    <div th:if="${message}"
         th:classappend="${message.type}"
         class="alert"
         role="alert">
      <p th:text="${message.content}"></p>
    </div>

    <!-- ================= LOTTIE ================= -->
    <div class="d-flex justify-content-center mb-4">
      <dotlottie-wc
        src="https://lottie.host/fbd2f535-9383-4c30-baba-dbb0ca38a8cb/BlX67JDijy.lottie"
        style="width:200px;height:200px"
        autoplay
        loop>
      </dotlottie-wc>
    </div>

    <!-- ================= FORM ================= -->
    <div class="login-form">

      <h2 class="text-center mb-4">Create Account</h2>

      <form th:action="@{/do_register}"
            th:object="${user}"
            method="post"
            novalidate>

        <!-- NAME -->
        <div class="mb-3 position-relative">
          <i class="bi bi-person form-icon"></i>
          <input type="text"
                 class="form-control"
                 th:classappend="${#fields.hasErrors('name')} ? 'is-invalid' : ''"
                 name="name"
                 placeholder="Your Name"
                 th:value="${user.name}"
                 required>
          <div class="invalid-feedback"
               th:each="e : ${#fields.errors('name')}"
               th:text="${e}"></div>
        </div>

        <!-- EMAIL -->
        <div class="mb-3 position-relative">
          <i class="bi bi-envelope form-icon"></i>
          <input type="email"
                 class="form-control"
                 name="email"
                 placeholder="Your Email"
                 th:value="${user.email}"
                 required>
        </div>

        <!-- PASSWORD -->
        <div class="mb-3 position-relative">
          <i class="bi bi-lock form-icon"></i>
          <input type="password"
                 class="form-control"
                 name="password"
                 placeholder="Your Password"
                 required>
        </div>

        <!-- ================= TOOLBAR ================= -->
        <div class="mb-2 d-flex flex-wrap gap-2 editor-toolbar">

          <button type="button" class="btn btn-sm btn-outline-secondary"
                  data-command="bold"><b>B</b></button>

          <button type="button" class="btn btn-sm btn-outline-secondary"
                  data-command="italic"><i>I</i></button>

          <button type="button" class="btn btn-sm btn-outline-secondary"
                  data-command="underline"><u>U</u></button>

          <button type="button" class="btn btn-sm btn-outline-secondary"
                  data-command="justifyLeft">
            <i class="bi bi-text-left"></i>
          </button>

          <button type="button" class="btn btn-sm btn-outline-secondary"
                  data-command="justifyCenter">
            <i class="bi bi-text-center"></i>
          </button>

          <button type="button" class="btn btn-sm btn-outline-secondary"
                  data-command="justifyRight">
            <i class="bi bi-text-right"></i>
          </button>

          <button type="button" class="btn btn-sm btn-outline-secondary"
                  data-command="insertUnorderedList">
            <i class="bi bi-list-ul"></i>
          </button>

          <button type="button" class="btn btn-sm btn-outline-secondary"
                  data-command="insertOrderedList">
            <i class="bi bi-list-ol"></i>
          </button>

          <input type="color"
                 class="form-control form-control-color">
        </div>

        <!-- ================= EDITOR ================= -->
        <div class="mb-4">
          <div contenteditable="true"
               id="aboutEditor"
               class="form-control editor-box"
               th:text="${user.about}">
          </div>
          <input type="hidden" name="about" id="aboutHidden">
        </div>

        <!-- TERMS -->
        <div class="form-check mb-3">
          <input class="form-check-input"
                 type="checkbox"
                 name="agreement"
                 id="agreement">
          <label class="form-check-label" for="agreement">
            Accept terms and conditions
          </label>
        </div>

        <!-- BUTTONS -->
        <div class="d-flex gap-2">
          <button type="submit" class="btn btn-submit w-50">Submit</button>
          <button type="reset" class="btn btn-reset w-50">Reset</button>
        </div>

      </form>
    </div>
  </div>

</section>
</html>
